configs:
  cm:
    # Allows Argo CD to render Kustomize projects that use `helmCharts:`.
    kustomize.buildOptions: --enable-helm
  params:
    # TLS is terminated externally via Ingress / reverse proxy.
    server.insecure: "true"

# Disable DEX server, as we are using Authentik as OIDC provider directly.
dex:
  enabled: false

# ArgoCD controller manages state of Applications, and performs sync/health checks
controller:
  resources:
    requests:
      cpu: 250m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 512Mi

  metrics:
    enabled: true
    serviceMonitor:
      enabled: true

# ArgoCD API/UI server
server:
  resources:
    requests:
      cpu: 50m
      memory: 64Mi
    limits:
      cpu: 100m
      memory: 128Mi

  metrics:
    enabled: true
    serviceMonitor:
      enabled: true

# ArgoCD Repo-server renders/manages repos/Helm/Kustomize
repoServer:
  resources:
    requests:
      cpu: 10m
      memory: 64Mi
    limits:
      cpu: 50m
      memory: 128Mi

  metrics:
    enabled: true
    serviceMonitor:
      enabled: true

#  ApplicationSet controller generates Applications from generators (e.g. Git, List, Cluster, etc.)
applicationSet:
  resources:
    requests:
      cpu: 50m
      memory: 128Mi
    limits:
      cpu: 100m
      memory: 128Mi

  metrics:
    enabled: true
    serviceMonitor:
      enabled: true

# Notifications controller send notifications (Slack/webhook/etc.) on sync/health events
notifications:
  resources:
    requests:
      cpu: 50m
      memory: 128Mi
    limits:
      cpu: 100m
      memory: 128Mi

  metrics:
    enabled: true
    serviceMonitor:
      enabled: true

# Internal Redis for ArgoCD (caching/locking)
redis:
  resources:
    requests:
      cpu: 50m
      memory: 64Mi
    limits:
      cpu: 200m
      memory: 128Mi

  metrics:
    enabled: true
    serviceMonitor:
      enabled: true
