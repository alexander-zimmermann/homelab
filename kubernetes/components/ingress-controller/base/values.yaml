deployment:
  # Deploy as a Deployment for controlled scaling (alternate: DaemonSet)
  kind: Deployment

ingressClass:
  # Enable Traefik as the default IngressClass for the cluster
  enabled: true
  isDefaultClass: true

ingressRoute:
  dashboard:
    # Enable the dashboard ingress route
    enabled: true
    # Router match rule
    matchRule: Host(`PLACEHOLDER`)
    # Entry points for the dashboard
    entryPoints: ["websecure"]
    # TLS configuration
    tls:
      secretName: traefik-tls-cert

ports:
  # Web entry point (Port 80)
  web:
    port: 8000
    expose:
      default: true
    exposedPort: 80
    http:
      redirections:
        entryPoint:
          to: websecure
          scheme: https
          permanent: true

  # Websecure entry point (Port 443)
  websecure:
    port: 8443
    expose:
      default: true
    exposedPort: 443
    http:
      tls:
        enabled: true

service:
  # Expose Traefik UI via Cilium/BGP-announced LoadBalancer
  type: LoadBalancer
  labels:
    bgp.cilium.io/ip-pool: default
    bgp.cilium.io/advertise-service: default

# Prometheus Metrics (Opt-In)
metrics:
  prometheus:
    serviceMonitor:
      enabled: true
      labels:
        release: prometheus
